<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Project Team NotBed : Sketch</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&family=IBM+Plex+Sans+KR:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Nova - v1.0.0
  * Template URL: https://bootstrapmade.com/nova-bootstrap-business-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="page-index">

  <!-- ======= Header ======= -->
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h1 class="d-flex align-items-center">NOT·BED</h1>
      </a>

      <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
      <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a href="about.html" onMouseOver="this.innerHTML='프로젝트소개'" onMouseOut="this.innerHTML='About'">About</a></li>
          <li><a href="services.html" onMouseOver="this.innerHTML='활용기술'" onMouseOut="this.innerHTML='Skill'">Skill</a></li>
          <li><a href="team.html" onMouseOver="this.innerHTML='팀소개'" onMouseOut="this.innerHTML='Team'">Team</a></li>
          <li><a href="blog.html" onMouseOver="this.innerHTML='현장스케치'" onMouseOut="this.innerHTML='Sketch'">Sketch</a></li>
          <li><a href="contact.html" onMouseOver="this.innerHTML='발표PR자료'" onMouseOut="this.innerHTML='Project PR'">Project PR</a></li>
        </ul>
      </nav><!-- .navbar -->

    </div>

  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs d-flex align-items-center" style="background-image: url('assets/img/blog-header.jpg');">
      <div class="container position-relative d-flex flex-column align-items-center">

        <h2>서버 환경 구축,<br>이것저것 연동 🖥</h2>
        <ol>
          <li><a href="index.html">NOT BED</a></li>
          <li>Sketch Details 2</li>
        </ol>

      </div>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Blog Details Section ======= -->
    <section id="blog" class="blog">
      <div class="container" data-aos="fade-up">

        <div class="row g-5">

          <div class="col-lg-12" data-aos="fade-up" data-aos-delay="200">

            <article class="blog-details">

              <div class="post-img">
                <img src="assets/img/blog/server (13).jpg" alt="" width="100%" class="img-fluid">
              </div>

              <h2 class="title">서버환경 구축, 이것저것 연동 🖥</h2>

              <div class="meta-top">
                <ul>
                  <li class="d-flex align-items-center"><i class="bi bi-person"></i> <a href="blog-details.html">이정원</a></li>
                  <li class="d-flex align-items-center"><i class="bi bi-clock"></i> <a href="blog-details.html">7월 1일 &#126; 8월 3일</a></li>
                </ul>
              </div><!-- End meta top -->

              <div class="content">
                <p>
                그저 구글링으로 웹캠을 웹서버에 띄웠을 때는 정말 신났다!<br>팀원 한 명씩 몰래 기념사진도 남기고 🤗🤗🤗🤗!!<br>근데 문제는 그게 아니였던거지.. 인애랑 둘이 해보겠다고 서로 뭘 깔고 지우고 안되서 한숨 푹 쉬고 닭가슴살먹고 아주 힘든 나날이였어. 환경을 구축하고 버전을 맞추고 연동하는게 쉬운게 아니더라!<br>다시는 서버개발자를 무시하지마라...&nbsp; &nbsp; <br><br><br></p>
				  
				<img src="assets/img/blog/server (2).jpg" class="img-fluid" alt="" width="100%" />
                <p><br>
                우리는 원래 도커를 쓰기로 했었어. 그런데 도커가 wls랬나 아무튼 윈도우환경에서 버전도 안맞고 리눅스에 깔려니까 라이브러리가 버전이 다 제각각이라 안되더라고.<br>안정성있게 가기 위해서는 그냥 pc자체에 서버를 구축하는게 낫다고 판단해서 인애는 pc에 linux mint os를 설치해서 리눅스로 부팅했어.<br>나는 아이디어 구상단계에서 기획해둔 웹서버 루트 구성을 토대로 프레임워크를 만졌는데, 처음에는 php로 넣었다가 캐시 문제인지 css버전오류인지 뭔지 모르겠는 미지의 오류로 인해서 첫 개발한 웹서버페이지를 못쓰게되었어.<br><br><br></p>
				<img src="assets/img/blog/server (10).jpg" class="img-fluid" alt="" width="100%" />
                <p>
                  <br>
					그라파나에서 그래프 불러오는 임베딩을 하는데, 처음 맞춘 버전은 최신이라 잘 되다가 다른 페이지 들어가니까 그때부터 안보이더라구..<br>구글링 2시간동안 해서 알아낸 건 8.x버전 이후로는 임베딩이 잘 안되도록 제한됐다? 뭐 그런 소리가 있던거같아.<br>지금은 해결해서 희미하네 기억이.. 이제 웹캠도 한번 띄워볼까? cctv기능은 병원에 필수지!하면서 웹캠코드를 짜서 넣었는데...
                </p>

                <img src="assets/img/blog/server (5).jpg" class="img-fluid" alt="" width="33%"/>
                <img src="assets/img/blog/server (7).jpg" class="img-fluid" alt="" width="33%" />
	            <img src="assets/img/blog/server (8).jpg" class="img-fluid" alt="" width="33%" />
                <p>
                  <br>너무 잘되고 빠르더라. 그런데 이것도 오류가있어. 이건 기기내에 코드를 짜고 그냥 웹캠장치를 컴퓨터가 인식하면 불러와지는 단순한 거였는데, 이거 하나 해봤다고 신나서 팀원 얼굴 찍고 그랬네.<br>나중에가서는 1차로 Azure 클라우드 서버에 플라스크를 깔고, 플라스크 페이지 하나 구현해서 거기서 웹캠 구동한걸 가지고 iframe이나 포트포워딩, ssh같은 방법으로 데려오려고했는데 플라스크가 안먹더라고? 그래서 포기하고<br>2차로는 mjpg스트림 서비스를 이용하는걸로 해서 최종적으로 mjpg를 썼어. 근데 장점이 많더라구.<br>mjpg를 메인 라즈베리파이인 파이1번에 깔아놓고 웹캠장치를 직접 인식시키면 병실침대와 거리도 적당하고, 바로바로 객체검출 후 값들을 서버랑 DB에 넣어줄수도 있는데다가 안정적이지, 그리고 또 나중에 js나 java개발해도 충분히 데려올 수 있다는 장점까지 있어서 나름 좋았어!<br>
				</p>
                <img src="assets/img/blog/server (11).jpg" class="img-fluid" alt="" width="100%" />

                <h3>시계열 데이터베이스를 포기하다</h3>
                <p>
                  원래 우리는 실시간이 생명인 병원시스템인점을 감안해서 flask와 influxDB를 사용하고싶었어.<br>influxDB는 시계열이라 실시간으로 데이터가 좌르르르륵 올라와서 그래프도 풍성하지, 간지나지, 활용도도 높다는 장점이 있는데, 워낙 자료가 적고 연동가능한 버전이나 호환성도 적어서 하다하다 안되서 그냥 mariaDB로 갈아타버렸어.<br>이걸 썼더라면 Restful API를 제공하기 때문에 API통신도 해볼 수 있었는데 너무아쉽다!!😥😥<br> 일정 주기마다 데이터처리 후 새로 저장하는 기능이랑 데이터 자동삭제까지..<br>그래프가 풍성한데도 쿼리가 절약되서 빠르고 너무 좋은데 못써본게 한이야..<br><br><br>
                </p>
				<img src="assets/img/blog/server (14).jpg" class="img-fluid" width="100%" alt="">
                <p><br>
                  아무튼 어찌저찌해서 Grafana + Apache + MariaDB + Laravel + PHP 구조를 완성했어.<br>하고나니까 또 개운하더라.<br>버튼제어 넣겠다고 어플 열심히 만들다가 블루투스 모듈 버전업데이트니 지원하지않는 언어니 하면서 개발 해놓을때마다 오류나서 때려친건 아직도 화나네.<br>뭔가 마가 낀게 분명해. 그래도 Post 통신은 먹어서 다행이야 그치?<br><br><br>
                </p>

              </div><!-- End post content -->

              <div class="meta-bottom">
                <a href="blog.html"><i class="bi bi-arrow-left"></i></a>
                <ul class="cats">
                  <li><a href="blog.html">목록으로 돌아가기</a></li>
                </ul>
              </div><!-- End meta bottom -->

            </article><!-- End blog post -->

            <div class="post-author d-flex align-items-center">
              <img src="assets/img/blog/blog-author.jpg" class="rounded-circle flex-shrink-0" alt="">
              <div>
                <h4>이정원</h4>
                <div class="social-links">
                  <a href="https://github.com/fullipkim"><i class="bi bi-git"></i></a>
                  <a href="https://fullipkim.github.io/portfolio_"><i class="bi bi-house-door"></i></a>
                  <a href="https://instagram.com/ki_ry_"><i class="biu bi-instagram"></i></a>
                </div>
                <p>수 많은 프론트앤드 웹과 다양한 분야의 디자인(영상,컨텐츠,웹,인쇄...)경력을 쌓고,<br>
조금 더 전문적이고 진취적인 백앤드 웹과 서버, 데이터베이스에 관심이 생겨<br>
각 잡고 공부하여 결과물을 만들어내고 이력을 쌓아왔습니다.                  
                </p>
              </div>
            </div><!-- End post author -->
          </div>
        </div>
      </div>
    </section><!-- End Blog Details Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">

    <div class="footer-content">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-5 col-md-12 footer-info">
            <a href="index.html" class="logo d-flex align-items-center">
              <span>NOT·BED</span>
            </a>
            <p>서로의 편안함과 합리적인 관계를 위해, NOT BED.</p>
            <div class="social-links d-flex  mt-3">
              <a href="https://fullipkim.github.io/portfolio_/" class="bi-person-badge-fill"></a>
              <a href="https://inae0615.github.io/inae_Lee/" class="bi-person-heart"></a>
              <a href="https://kkaemmi.github.io/project_1/" class="bi-person-workspace"></a>
              <a href="https://goo05041.github.io/kwanwoo/" class="bi-person-check-fill"></a>
            </div>
          </div>
		  <div class="col-lg-5 col-md 12 copyright">
          &copy; Copyright <strong><span>NOT·BED</span></strong>. All Rights Reserved
          <p><br>Designed by <strong><span>NOT·BED</span></strong>.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>  <!-- End Footer -->

  <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>